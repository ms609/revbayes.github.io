<!doctype html>
<html lang="en">
<link rel="icon" type="image/png" href="/assets/img/favicon.png" >
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="search-domain" value="https://revbayes.github.io/">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <title>RevBayes: Compile on Windows</title>
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a href="/" class="pull-left">
        
        <img class="navbar-logo" src="/assets/img/aquabayes-desaturated.png" alt="RevBayes Home" />
        
      </a>

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar" align="right"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/download">Download</a></li>
        <li><a href="/tutorials/">Tutorials</a></li>
        <li><a href="/documentation/">Documentation</a></li>
        <li><a href="https://revbayes.github.io/revscripter/">RevScripter</a></li>
        <li><a href="/workshops/">Workshops</a></li>
        <li><a href="/jobs/">Jobs</a></li>
        <li><a href="/developer/">Developer</a></li>
        <li><a href="/gui">GUI</a></li>
      </ul>
      <!-- <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form> -->
    </div>
  </div>
</nav>

      <h1 class="maintitle">

Compile on Windows

</h1>
<hr>

<p><strong>NOTE: These instructions are for compiling the development branch.</strong></p>

<p><strong>NOTE: Boost now needs to be at least version 1.71.</strong></p>

<p>The standard way to build revbayes is to use <code class="language-plaintext highlighter-rouge">cmake</code>. Cross-compiling for Windows from Linux is also possible using <code class="language-plaintext highlighter-rouge">meson</code>, see <a href="https://github.com/revbayes/revbayes/blob/development/projects/meson/README.md">revbayes/projects/meson/README.md</a>.</p>

<ol>
  <li>
    <p>Download and install 64-bit cygwin (setup-x86_64.exe). Make sure you include the following packages:</p>

    <p>(Cygwin package versions are from 5/20202. Newer versions may work, but see special version notes below)</p>

    <table>
      <thead>
        <tr>
          <th>package</th>
          <th>version</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>cmake</td>
          <td>3.14.5-1</td>
        </tr>
        <tr>
          <td>cmake-debuginfo</td>
          <td>3.14.5-1</td>
        </tr>
        <tr>
          <td>cmake-doc</td>
          <td>3.14.5-1</td>
        </tr>
        <tr>
          <td>cmake-gui</td>
          <td>3.14.5-1</td>
        </tr>
        <tr>
          <td>git</td>
          <td>2.21.0-1</td>
        </tr>
        <tr>
          <td>make</td>
          <td>4.3-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-boost</td>
          <td>1.66.0-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-gcc-core</td>
          <td>9.2.0-2</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-gcc-g++</td>
          <td>9.2.0-2</td>
        </tr>
      </tbody>
    </table>

    <p>For RevStudio you will also need:</p>

    <table>
      <thead>
        <tr>
          <th>package</th>
          <th>version</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>mingw64-x86_64-atk1.0</td>
          <td>2.26.1-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-bzip2</td>
          <td>1.0.6-4</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-cairo</td>
          <td>1.14.12-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-fribidi</td>
          <td>0.19.7-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-gdk-pixbuf2.0</td>
          <td>2.36.11-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-glib2.0</td>
          <td>2.54.3-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-gtk2.0</td>
          <td>2.24.31-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-gtkmm2.4</td>
          <td>2.24.5-1</td>
        </tr>
        <tr>
          <td>mingw64-x86_64-pango1.0</td>
          <td>1.40.14-1</td>
        </tr>
      </tbody>
    </table>

    <p><strong>Notes about the versions:</strong></p>

    <p><strong>Boost and CMake:</strong></p>

    <p>It’s important that the version of Boost that you use be supported by the version of CMake that you use. You can check this by going to the package source for the CMake version you’re using e.g. <a href="https://github.com/Kitware/CMake/blob/v3.14.5/Modules/FindBoost.cmake">3.14.5</a>. Search for <code class="language-plaintext highlighter-rouge">_Boost_KNOWN_VERSIONS</code> and ensure your boost version appears in the list.</p>
  </li>
  <li>
    <p>Retrieve the RevBayes sources.</p>

    <ol>
      <li>Open a cygwin terminal window</li>
      <li>Clone the git repository:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> git clone https://github.com/revbayes/revbayes.git revbayes
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>Compile RevBayes.</p>

    <ol>
      <li>Open a cygwin terminal window and go to the RevBayes source directory if you haven’t already done so, e.g.,
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd revbayes
</code></pre></div>        </div>
      </li>
      <li>Next, go into the projects and then the cmake subdirectory:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd projects/cmake
</code></pre></div>        </div>
      </li>
      <li>Now you can either build the standard version
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> bash build.sh -DCMAKE_TOOLCHAIN_FILE=../mingw64_toolchain.cmake
</code></pre></div>        </div>
        <p>or the RevStudio version</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> bash build.sh -DCMAKE_TOOLCHAIN_FILE=../mingw64_toolchain.cmake -cmd true
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>Library whack-a-mole</p>

    <p>When you try to run the executable you will likely get an error about missing libraries.</p>

    <p>Make a new directory and put the executable in it.</p>

    <p>Then find the library from the error message in <code class="language-plaintext highlighter-rouge">/usr/x86_64-w64-mingw32/sys-root/mingw/bin/</code> and copy it to the directory you put the exectuable in. Repeat this until you stop getting error messages.</p>

    <p>At the time this was written (RevBayes v1.1.0), this consisted of:</p>

    <ul>
      <li>iconv.dll</li>
      <li>libatk-1.0-0.dll</li>
      <li>libboost_filesystem-mt.dll</li>
      <li>libboost_program_options-mt.dll</li>
      <li>libboost_system-mt.dll</li>
      <li>libbz2-1.dll</li>
      <li>libcairo-2.dll</li>
      <li>libexpat-1.dll</li>
      <li>libffi-6.dll</li>
      <li>libfontconfig-1.dll</li>
      <li>libfreetype-6.dll</li>
      <li>libgcc_s_seh-1.dll</li>
      <li>libgdk_pixbuf-2.0-0.dll</li>
      <li>libgdk-win32-2.0-0.dll</li>
      <li>libgio-2.0-0.dll</li>
      <li>libglib-2.0-0.dll</li>
      <li>libgmodule-2.0-0.dll</li>
      <li>libgobject-2.0-0.dll</li>
      <li>libgtk-win32-2.0-0.dll</li>
      <li>libharfbuzz-0.dll</li>
      <li>libintl-8.dll</li>
      <li>libpango-1.0-0.dll</li>
      <li>libpangocairo-1.0-0.dll</li>
      <li>libpangoft2-1.0-0.dll</li>
      <li>libpangowin32-1.0-0.dll</li>
      <li>libpcre-1.dll</li>
      <li>libpixman-1-0.dll</li>
      <li>libpng16-16.dll</li>
      <li>libstdc++-6.dll</li>
      <li>libwinpthread-1.dll</li>
      <li>zlib1.dll</li>
    </ul>
  </li>
</ol>

      <br>
<footer>
  <div class="container">
  <div class="row">
    <div class="col-sm-12" align="center">
      <a href="https://github.com/revbayes">GitHub</a> | <a href="/license">License</a> | <a href="/citation">Citation</a> | <a href="https://groups.google.com/forum/#!forum/revbayes-users">Users Forum</a>
    </div>
  </div>
  <br>
  </div>
</footer>

    </div>
    <script src="/assets/js/vendor/jquery.min.js"></script>
<script src="/assets/js/vendor/FileSaver.min.js"></script>
<script src="/assets/js/vendor/jszip.min.js"></script>
<script src="/assets/js/vendor/bootstrap.min.js"></script>

<script type="text/javascript">
// Add default language
$(":not(code).highlighter-rouge").each(function() {
  
  if( this.classList == "highlighter-rouge") {
    this.classList = "bash highlighter-rouge";
  }
  
});
// $("code.highlighter-rouge").each(function() {
//   
//   if( this.classList == "highlighter-rouge") {
//       this.classList = "bash highlighter-rouge";
//   }
//   
// });
</script>
<script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
    });
    MathJax.Hub.Queue(function () {
      $(".aside").each(function() {
          $("div .MathJax", this).hide();
      });
    });
</script>
<script src="/assets/js/base.js"></script>

  </body>
</html>
